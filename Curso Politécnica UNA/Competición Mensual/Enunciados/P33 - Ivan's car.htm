<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><HTML>
<!-- Mirrored from acm.timus.ru/print.aspx?space=1&num=1930 by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 03 Aug 2013 08:22:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<HEAD><META http-equiv="Content-Type" content="text/html; charset=utf-8"><META NAME="viewport" CONTENT="width=768"><META HTTP-EQUIV="X-UA-Compatible" CONTENT="IE=edge"><TITLE>1930. Ivan's Car @ Timus Online Judge</TITLE><LINK REL="alternate" HREFLANG="x-default" HREF="print1e4f.html?space=1&amp;num=1930"><LINK REL="alternate" HREFLANG="en-us" HREF="print31c3.html?space=1&amp;num=1930&amp;locale=en"><LINK REL="alternate" HREFLANG="ru-ru" HREF="print6fbe.html?space=1&amp;num=1930&amp;locale=ru"><LINK REL="stylesheet" TYPE="text/css" HREF="timus_html/style46.css"><LINK REL="shortcut icon" TYPE="image/x-icon" HREF="favicon.ico"></HEAD><BODY ALINK="#1A5CC8" VLINK="#1A5CC8" LINK="#1A5CC8"><DIV CLASS="prnver"><H2 class="problem_title">1930. Ivan's Car</H2><DIV class="problem_limits">Time limit: 1.5 second<BR>Memory limit: 64 MB<BR></DIV><DIV ID="problem_text"><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">The world is in danger! Awful earthquakes are detected all over the world.
Houses are destroyed, rivers overflow the banks, it is almost impossible to move from one city to another.
Some roads are still useful, but even they became too steep because of soil movements.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Fortunately, engineer Ivan has a car, which can go well uphill and downhill. But there are different gear-modes for
movement up and down, so during the driving you have to change gear-modes all the time. Also engineer Ivan has a good friend&nbsp;&ndash;– geologist
Orlov. Together they are able to invent a plan for world saving. But, unfortunately, geologist Orlov lives in another town.</DIV></DIV><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Ivan wants to save the world, but gear-box in his car started to wear out, so he doesn’t know, how long he will be able to use it.
Please help Ivan to save the world. Find a route to the Orlov's town, such that Ivan will have to change gear-modes as few times as possible. In the beginning of the way Ivan can turn on any of gear-modes and you don't have to count this action as a changing of gear-mode.</DIV></DIV><H3 CLASS="problem_subtitle">Input</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">There are two positive integer numbers <i>n</i> and <i>m</i> in the first line, the number of towns and roads
between them respectively <nobr>(2 &le; <i>n</i> &le; 10&nbsp;000;</nobr> <nobr>1 &le; <i>m</i> &le; 100&nbsp;000).</nobr> Next <i>m</i> lines contain two numbers each&nbsp;&mdash; numbers of towns,
which are connected by road. Moreover, the first is the town, which is situated below, from which you should go uphill by this road. Every road can be used for traveling in any of two directions.
There is at most one road between any two cities. In the last line there are numbers of two cities, in which
Ivan and geologist Orlov live, respectively. Although the majority of roads were destroyed, Ivan knows exactly, that the way to geologist Orlov's city exists.</DIV></DIV><H3 CLASS="problem_subtitle">Output</H3><DIV CLASS="problem_par"><DIV CLASS="problem_par_normal">Output the smallest number of gear-modes changes on the way to Orlov's city.</DIV></DIV><H3 CLASS="problem_subtitle">Samples</H3><TABLE CLASS="sample"><TR><TH WIDTH="350">input</TH><TH WIDTH="350">output</TH></TR><TR><TD><PRE CLASS="intable">3 2
1 2
3 2
1 3
</PRE></TD><TD><PRE CLASS="intable">1
</PRE></TD></TR><TR><TD><PRE CLASS="intable">3 3
1 2
2 3
3 1
1 3
</PRE></TD><TD><PRE CLASS="intable">0
</PRE></TD></TR></TABLE><DIV CLASS="problem_source"><B>Problem Author: </B>Grigoriy Nazarov (prepared by Bulat Zaynullin)
<BR></DIV></DIV></DIV><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20918869 = new Ya.Metrika({id:20918869, webvisor:true, clickmap:true, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="http://mc.yandex.ru/watch/20918869" style="position:absolute; left:-9999px;" alt=""></div></noscript></BODY>
<!-- Mirrored from acm.timus.ru/print.aspx?space=1&num=1930 by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 03 Aug 2013 08:22:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
</HTML>